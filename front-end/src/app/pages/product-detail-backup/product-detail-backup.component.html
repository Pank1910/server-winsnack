<script src="https://cdn.tailwindcss.com"></script>

<div class="flex flex-col">
    <!-- Breadcrumb -->
    <nav
  class="flex flex-wrap gap-3.5 items-center px-20 py-3.5 w-full text-xl bg-[#FFE0C2] min-h-[50px] max-md:px-5 max-md:max-w-full"
  aria-label="Breadcrumb"
>
  <a
    routerLink="/product-category"
    class="self-stretch my-auto font-medium text-center text-black text-opacity-50 transition duration-300 hover:text-[#FF9413] hover:font-bold"
  >
    T·∫•t c·∫£ s·∫£n ph·∫©m
  </a>
  <img
    loading="lazy"
    src="assets/images/blog/arrow-right.png"
    class="object-contain shrink-0 self-stretch my-auto w-4 aspect-square"
    alt="Breadcrumb arrow"
  />
  <span class="self-stretch my-auto font-bold text-[#FF9413]">
    B√°nh tr√°ng rong bi·ªÉn
  </span>
</nav>
  
    <!-- Main Product Area -->
    <div class="bg-[#FFF8EC] py-8 px-20 max-md:px-5">
      <div class="flex flex-col md:flex-row  overflow-hidden mb-8">
        <!-- Product Gallery -->
        <div class="w-full md:w-1/2 p-6">
          <div class="mb-4">
            <img
              src="assets/images/products/banh-trang-rong-bien.png"
              alt="B√°nh tr√°ng rong bi·ªÉn"
              class="w-full rounded-lg"
            />
          </div>
          <div class="flex space-x-2">
            <div class="w-1/4 opacity-100 cursor-pointer">
              <img
                src="assets/images/products/banh-trang-rong-bien.png"
                alt="Thumbnail 1"
                class="w-full rounded-md"
              />
            </div>
            <div class="w-1/4 opacity-60 cursor-pointer hover:opacity-100">
              <img
                src="assets/images/products/banh-trang-rong-bien.png"
                alt="Thumbnail 2"
                class="w-full rounded-md"
              />
            </div>
            <div class="w-1/4 opacity-60 cursor-pointer hover:opacity-100">
              <img
                src="assets/images/products/banh-trang-rong-bien.png"
                alt="Thumbnail 3"
                class="w-full rounded-md"
              />
            </div>
            <div class="w-1/4 opacity-60 cursor-pointer hover:opacity-100">
              <img
                src="assets/images/products/banh-trang-rong-bien.png"
                alt="Thumbnail 4"
                class="w-full rounded-md"
              />
            </div>
          </div>
        </div>
  
        <!-- Product Details -->
        <div class="w-full md:w-1/2 p-6">
          <h1 class="text-2xl font-bold text-gray-800 mb-2">B√°nh tr√°ng rong bi·ªÉn</h1>
          <div class="mb-4">
            <span class="text-2xl font-bold text-[#FF9413] mr-2">25.000‚Ç´</span>
            <span class="text-gray-500 line-through">30.000‚Ç´</span>
          </div>
          <div class="mb-4">
            <span class="text-[#FF9413] text-xl">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
            <span class="text-gray-600 ml-2">(67 ƒë√°nh gi√°)</span>
            <span class="text-gray-600 ml-2">93% ng∆∞·ªùi mua ƒë√£ th√≠ch s·∫£n ph·∫©m n√†y</span>
          </div>
          <div class="mb-4">
            <p class="text-gray-700 leading-relaxed">
              B√°nh tr√°ng rong bi·ªÉn ƒë∆∞·ª£c l√†m t·ª´ b√°nh tr√°ng m·ªèng gi√≤n, k·∫øt h·ª£p v·ªõi rong bi·ªÉn s·∫•y kh√¥, m√® rang v√† gia v·ªã ƒë·∫≠m ƒë√†.
              Mang ƒë·∫øn v·∫≠t th∆°m ngon, ti·ªán l·ª£i, th√≠ch h·ª£p cho m·ªçi l√∫c m·ªçi n∆°i.
            </p>
          </div>
  
          <div class="mb-4">
            <span class="block mb-2">Ch·ªçn ph√¢n lo·∫°i:</span>
            <div class="flex space-x-3">
                <button 
                class="px-3 py-1 border rounded-md" 
                [ngClass]="{'bg-[#FF9413] text-white': selectedWeight === 100}" 
                (click)="selectWeight(100)"
              >
                100g
              </button>
              <button 
                class="px-3 py-1 border rounded-md" 
                [ngClass]="{'bg-[#FF9413] text-white': selectedWeight === 200}" 
                (click)="selectWeight(200)"
              >
                200g
              </button>
            </div>
          </div>
  
          <div class="flex items-center mb-6">
            <div class="flex items-center border border-[#FF9413] rounded-full overflow-hidden mr-4">
              <button class="w-12 h-10 text-[#FF9413] bg-white focus:outline-none" (click)="changeQuantity(-1)">-</button>
              <input
                type="number"
                id="quantity"
                [(ngModel)]="quantity"
                min="1"
                class="w-12 h-10 text-center border-none focus:outline-none"
              />
              <button class="w-12 h-10 text-[#FF9413] bg-white focus:outline-none" (click)="changeQuantity(1)">+</button>
            </div>
            <button
              class="flex-grow py-2 px-4 bg-[#FF9413] hover:bg-[#e58000] text-white font-semibold rounded-full focus:outline-none" (click)="addToCart()">
              TH√äM V√ÄO GI·ªé H√ÄNG
            </button>
          </div>
  
          <div
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
            *ngIf="showPopup"
            >
            <div class="bg-white p-6 rounded-lg shadow-lg max-w-md">
                <div class="text-center">
                <h3 class="text-lg font-semibold mb-2">Th√™m v√†o gi·ªè h√†ng th√†nh c√¥ng!</h3>
                <p>B·∫°n ƒë√£ th√™m {{ quantity }} g√≥i B√°nh tr√°ng rong bi·ªÉn lo·∫°i {{ selectedWeight }} gam v√†o gi·ªè h√†ng th√†nh c√¥ng.</p>
                <div class="mt-4 flex justify-center space-x-3">
                    <button
                    class="py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg"
                    (click)="closePopup()"
                    >
                    Ti·∫øp t·ª•c mua s·∫Øm
                    </button>
                    <button
                    class="py-2 px-4 bg-[#FF9413] hover:bg-[#e58000] text-white rounded-lg"
                    (click)="goToCart()"
                    >
                    Xem gi·ªè h√†ng
                    </button>
                </div>
                </div>
            </div>
        </div>

          <div class="mt-6">
            <div class="border border-gray-200 rounded-lg overflow-hidden">
              <div class="flex items-center p-4">
                <div class="text-3xl mr-4">üöö</div>
                <div>
                  <strong class="block mb-1">Mi·ªÖn ph√≠ Ship TP. HCM</strong>
                  <p class="text-gray-600 text-sm">B√°n k√≠nh 10km n·ªôi th√†nh TP. H·ªì Ch√≠ Minh</p>
                </div>
              </div>
              <div class="h-px bg-gray-200 mx-auto w-11/12"></div>
              <div class="flex items-center p-4">
                <div class="text-3xl mr-4">üîÑ</div>
                <div>
                  <strong class="block mb-1">ƒê·ªïi tr·∫£ mi·ªÖn ph√≠</strong>
                  <p class="text-gray-600 text-sm">Ho√†n tr·∫£ trong v√≤ng 7 ng√†y</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Product Tabs -->
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="flex border-b border-gray-200">
          <button
            (click)="setActiveTab('description')"
            class="tab py-3 px-5 font-semibold"
            [ngClass]="{'text-[#FF9413] border-b-2 border-[#FF9413]': activeTab === 'description', 'text-gray-600 hover:text-[#FF9413]': activeTab !== 'description'}"
          >
            M√¥ t·∫£
          </button>
          <button
            (click)="setActiveTab('reviews')"
            class="tab py-3 px-5 font-semibold"
            [ngClass]="{'text-[#FF9413] border-b-2 border-[#FF9413]': activeTab === 'reviews', 'text-gray-600 hover:text-[#FF9413]': activeTab !== 'reviews'}"
          >
            ƒê√°nh gi√°
          </button>
        </div>
        <div class="tab-content">
          <div *ngIf="activeTab === 'description'" class="p-6">
            <h2 class="text-xl font-semibold mb-4">M√¥ t·∫£ chi ti·∫øt</h2>
            <div class="mb-6">
              <p class="font-semibold mb-2">Th√¥ng tin s·∫£n ph·∫©m B√°nh tr√°ng rong bi·ªÉn</p>
              <ul class="list-disc pl-5 space-y-2">
                <li>Th∆∞∆°ng hi·ªáu s·∫£n xu·∫•t: An v·∫≠t Win Snack</li>
                <li>Th√†nh ph·∫ßn: B√°nh tr√°ng m·ªèng, gi√≤n, rong bi·ªÉn s·∫•y kh√¥, m√® rang, gia v·ªã</li>
                <li>Tr·ªçng l∆∞·ª£ng: 100g - g√≥i nh·ªè ho·∫∑c 200g - g√≥i l·ªõn</li>
                <li>Xu·∫•t x·ª©: Vi·ªát Nam</li>
                <li>HSD: 7 ng√†y ngo√†i nhi·ªát ƒë·ªô ph√≤ng v√† 1 th√°ng ƒë·ªÉ trong ngƒÉn m√°t t·ªß l·∫°nh</li>
              </ul>
            </div>
            <h2 class="text-xl font-semibold mb-4">C√°ch ƒÉn</h2>
            <div>
              <p class="mb-3">
                BTPS ch·∫•m t·ªèi v√† ƒë·∫∑c bi·ªát r·∫•t ngon v√† ƒë√£ n√™u b·∫°n th∆∞·ªüng th·ª©c c√°ch n√†o. C·ª• th·ªÉ c√°ch ƒÉn c≈©ng kh√° ƒë∆°n gi·∫£n,
                b·∫°n ch·ªâ c·∫ßn:
              </p>
              <ul class="list-disc pl-5 space-y-2 mb-4">
                <li>
                  ƒÇn tr·ª±c ti·∫øp: B√°nh tr√°ng rong bi·ªÉn gi√≤n rum, ƒë√£ ƒë∆∞·ª£c n√™m gia v·ªã s·∫µn, b·∫°n ch·ªâ c·∫ßn m·ªü g√≥i v√† th∆∞·ªüng th·ª©c
                  ngay. L√† c√°ch ƒÉn nhanh g·ªçn, ti·ªán l·ª£i
                </li>
                <li>
                  Cu·ªën v·ªõi rau s·ªëng: D√πng b√°nh tr√°ng rong bi·ªÉn c·ªßa Winsnack cu·ªën c√πng rau s·ªëng, b√∫n, v√† th·ªãt n∆∞·ªõng ho·∫∑c
                  t√¥m lu·ªôc. Ch·∫•m v·ªõi n∆∞·ªõc m·∫Øm chua ng·ªçt ho·∫∑c s·ªët m√® ƒë·ªÉ tƒÉng th√™m h∆∞∆°ng v·ªã
                </li>
              </ul>
              <p class="text-gray-700">
                ‚úî Win Snack khuy√™n ng∆∞·ªùi d√πng l∆∞u √Ω b·∫£o qu·∫£n s·∫£n ph·∫©m trong khu v·ª±c kh√¥ r√°o v√† th√¥ng tho√°ng, tr√°nh tr·ª±c
                ti·∫øp √°nh n·∫Øng. Th·ªùi h·∫°n s·ª≠ d·ª•ng c·ªßa s·∫£n ph·∫©m l√† 7 ng√†y khi ƒë·ªÉ ngo√†i v√† c√≥ th·ªÉ l√™n ƒë·∫øn 1 th√°ng khi gi·ªØ
                trong t·ªß l·∫°nh.
              </p>
            </div>

            <h2 class="text-xl font-semibold mb-4 m-4">Cam k·∫øt</h2>
            <div>
              <ul>
                <li>
                    ‚úî Kh√°ch h√†ng c√≥ th·ªÉ v·ª´a mua tr·ª±c ti·∫øp ho·∫∑c ƒë·∫∑t h√†ng qua h·ªá th·ªëng ƒë·ªÅu ƒë∆∞·ª£c. Gi√° th√†nh s·∫£n ph·∫©m ph·∫£i chƒÉng, ƒë∆∞·ª£c ni√™m y·∫øt ch√≠nh h√£ng n√™n kh√°ch h√†ng to√†n qu·ªëc n√™n kh√°ch h√†ng ho√†n to√†n an t√¢m. Ngo√†i ra, Win Snack c√≤n h·ªó tr·ª£ giao h√†ng tr√™n kh·∫Øp 63 t·ªânh th√†nh gi√∫p kh√°ch h√†ng c√≥ tr·∫£i nghi·ªám mua s·∫Øm ti·ªán l·ª£i nh·∫•t.
                </li>
                <li>
                    ‚úî Cam k·∫øt h√†ng chu·∫©n v√† kh√°ch h√†ng ƒë∆∞·ª£c ƒë·ªïi tr·∫£ s·∫£n ph·∫©m n·∫øu c√≥ l·ªói trong kh√¢u v·∫≠n chuy·ªÉn ho·∫∑c t·ª´ nh√† s·∫£n xu·∫•t.
                </li>
                <li>
                    ‚úî B√°nh tr√°ng rong bi·ªÉn ch·ªâ c√≥ t·∫°i Win Snack mang h∆∞∆°ng v·ªã th∆°m ngon ƒëang ƒë∆∞·ª£c nhi·ªÅu b·∫°n tr·∫ª sƒÉn l√πng hi·ªán nay. Th∆∞·ªüng th·ª©c ngay cho ƒë√£ c√°i n∆∞ n√†o!
                </li>
              </ul>
            </div>
          </div>
          <div *ngIf="activeTab === 'reviews'" class="p-6">
            <div class="p-4">
              <div class="flex flex-col md:flex-row mb-8">
                <div class="flex w-full">
                  <div class="w-1/3 text-center">
                    <span class="text-3xl font-bold text-[#FF9413]">4.8</span>
                    <div class="text-[#FF9413] text-2xl my-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <span class="text-gray-600">(67 ƒë√°nh gi√°)</span>
                  </div>
                  <div class="w-2/3">
                    <div class="flex items-center mb-1">
                      <span class="w-12">5 ‚òÖ</span>
                      <div class="flex-grow h-3 bg-gray-200 rounded-full mx-2">
                        <div class="h-full bg-[#FF9413] rounded-full" style="width: 90%"></div>
                      </div>
                      <span>90%</span>
                    </div>
                    <div class="flex items-center mb-1">
                      <span class="w-12">4 ‚òÖ</span>
                      <div class="flex-grow h-3 bg-gray-200 rounded-full mx-2">
                        <div class="h-full bg-[#FF9413] rounded-full" style="width: 8%"></div>
                      </div>
                      <span>8%</span>
                    </div>
                    <div class="flex items-center mb-1">
                      <span class="w-12">3 ‚òÖ</span>
                      <div class="flex-grow h-3 bg-gray-200 rounded-full mx-2">
                        <div class="h-full bg-[#FF9413] rounded-full" style="width: 2%"></div>
                      </div>
                      <span>2%</span>
                    </div>
                    <div class="flex items-center mb-1">
                      <span class="w-12">2 ‚òÖ</span>
                      <div class="flex-grow h-3 bg-gray-200 rounded-full mx-2">
                        <div class="h-full bg-[#FF9413] rounded-full" style="width: 0%"></div>
                      </div>
                      <span>0%</span>
                    </div>
                    <div class="flex items-center mb-1">
                      <span class="w-12">1 ‚òÖ</span>
                      <div class="flex-grow h-3 bg-gray-200 rounded-full mx-2">
                        <div class="h-full bg-[#FF9413] rounded-full" style="width: 0%"></div>
                      </div>
                      <span>0%</span>
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="space-y-6">
                <div class="border-b border-gray-200 pb-4">
                  <div class="flex items-center mb-2">
                    <div class="font-semibold mr-3">Thanh T√Ω</div>
                    <div class="text-[#FF9413] mr-3">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <div class="text-gray-500">3 th√°ng tr∆∞·ªõc</div>
                  </div>
                  <div class="text-gray-700">
                    M√¨nh l√† ng∆∞·ªùi kh√≥ t√≠nh v·ªÅ ƒë·ªì ƒÉn v·∫∑t nh∆∞ng b√°nh tr√°ng rong bi·ªÉn n√†y th·ª±c s·ª± r·∫•t ngon. Gi√≤n, v·ªã rong
                    bi·ªÉn ƒë·∫≠m ƒë√†, ƒÉn ho√†i kh√¥ng ng√°n.
                  </div>
                </div>
  
                <div class="border-b border-gray-200 pb-4">
                  <div class="flex items-center mb-2">
                    <div class="font-semibold mr-3">B·∫£o Tr√¢n</div>
                    <div class="text-[#FF9413] mr-3">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <div class="text-gray-500">5 th√°ng tr∆∞·ªõc</div>
                  </div>
                  <div class="text-gray-700 mb-6">
                    S·∫£n ph·∫©m ƒë√≥ng g√≥i ƒë·∫πp, v·ªá sinh. M√πi th∆°m, v·ªã ngon, ƒÉn r·∫•t cu·ªën. ƒê√£ tr·ªü th√†nh m√≥n ƒÉn v·∫∑t y√™u th√≠ch c·ªßa
                    gia ƒë√¨nh m√¨nh.
                  </div>
  
                  <div class="bg-gray-50 p-6 rounded-lg">
                    <h3 class="text-lg font-semibold text-center mb-4">Vi·∫øt ƒë√°nh gi√° c·ªßa b·∫°n</h3>
                    <form (ngSubmit)="submitReview()" #reviewForm="ngForm">
                      <div class="flex items-center mb-4">
                        <span class="mr-3">ƒê√°nh gi√° c·ªßa b·∫°n:</span>
                        <div class="flex">
                          <span
                            *ngFor="let star of [1,2,3,4,5]"
                            (click)="setRating(star)"
                            class="text-2xl cursor-pointer"
                            [ngClass]="{'text-[#FF9413]': star <= userRating, 'text-gray-300 hover:text-[#FF9413]': star > userRating}"
                          >
                            ‚òÖ
                          </span>
                        </div>
                      </div>
                      <textarea
                        [(ngModel)]="reviewText"
                        name="reviewText"
                        placeholder="Chia s·∫ª ƒë√°nh gi√° c·ªßa b·∫°n v·ªÅ s·∫£n ph·∫©m"
                        class="w-full h-32 p-3 border border-gray-300 rounded-lg resize-y mb-4"
                      ></textarea>
                      <div class="text-center">
                        <button
                          type="submit"
                          class="bg-[#FF9413] hover:bg-[#e58000] text-white font-semibold py-2 px-6 rounded-full"
                        >
                          G·ª≠i ƒë√°nh gi√°
                        </button>
                      </div>
                    </form>
                  </div>
                  
                  <!-- Popup th√¥ng b√°o ƒë√°nh gi√° th√†nh c√¥ng -->
                  <div
                    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
                    *ngIf="showReviewSuccessPopup"
                  >
                    <div class="bg-white p-6 rounded-lg shadow-lg max-w-md">
                      <div class="text-center">
                        <h3 class="text-lg font-semibold mb-2">G·ª≠i ƒë√°nh gi√° th√†nh c√¥ng!</h3>
                        <p class="text-gray-600">Nh·ªØng ƒë√°nh gi√° c·ªßa b·∫°n l√† ƒë·ªông l·ª±c ƒë·ªÉ Win Snack ng√†y c√†ng c·∫£i thi·ªán v√† ph√°t tri·ªÉn.</p>
                        <div class="mt-4">
                          <button
                            (click)="closeReviewSuccessPopup()"
                            class="py-2 px-4 bg-[#FF9413] hover:bg-[#e58000] text-white rounded-lg"
                          >
                            ƒê√≥ng
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Popup y√™u c·∫ßu ch·ªçn sao -->
                  <div
                    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
                    *ngIf="showRatingRequiredPopup"
                  >
                    <div class="bg-white p-6 rounded-lg shadow-lg max-w-md">
                      <div class="text-center">
                        <h3 class="text-lg font-semibold mb-2">B·∫°n cho m√¨nh bao nhi√™u ng√¥i sao nh·ªâ?</h3>
                        <p class="text-gray-600">Vui l√≤ng ch·ªçn s·ªë sao tr∆∞·ªõc khi g·ª≠i ƒë√°nh gi√°.</p>
                        <div class="mt-4">
                          <button
                            (click)="closeRatingRequiredPopup()"
                            class="py-2 px-4 bg-[#FF9413] hover:bg-[#e58000] text-white rounded-lg"
                          >
                            ƒê√≥ng
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
      <section class="py-12 px-[30px]">
        <div class="text-center mb-14">
            <h1 class="text-4xl font-montserrat font-semibold text-[#000000]">
                B·∫°n c√≥ th·ªÉ th√≠ch
            </h1>
        </div>

        <!-- Products Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <div *ngFor="let product of products"
                class="bg-white rounded-2xl shadow-[0_0_40px_rgba(0,0,0,0.1)] overflow-hidden hover:shadow-lg transition-shadow cursor-pointer">
                <div class="relative aspect-square">
                    <img [src]="product.imageUrl" [alt]="product.name" class="w-full h-full object-cover"
                        loading="lazy" />
                    <div
                        class="absolute top-6 left-0 bg-[#F00000] text-white text-2xl font-bold px-2 py-1 border-2 border-[#F57474]">
                        {{product.discount}}%
                    </div>
                </div>

                <div class="p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="text-yellow-400 text-[40px]">‚òÖ</span>
                        <span class="text-black text-3xl">{{product.rating}}</span>
                        <span class="text-[#8C8C8C] text-xl">| + {{product.reviews}} review</span>
                    </div>

                    <h3 class="text-xl font-semibold text-black">{{product.name}}</h3>
                    <p class="text-sm text-[#8C8C8C] mt-2">{{product.description}}</p>

                    <div class="flex justify-between items-center mt-4">
                        <span class="text-[#8C8C8C] line-through">{{product.originalPrice}}ƒê</span>
                        <span class="text-2xl font-semibold text-[#F00000]">{{product.discountedPrice}}ƒê</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- Load More Button -->
        <button routerLink="/blog"
            class="flex items-center gap-2 mx-auto px-4 py-2 mt-10 bg-white border-2 border-[#F7941D] rounded-lg font-montserrat font-bold text-[#F7941D] hover:bg-[#FFF8EC] transition-colors duration-300">
            XEM TH√äM
            <img src="assets/images/homepage/arrow-right.svg" class="w-6 h-6" alt="Next icon" />
        </button>
    </section>
    </div>
  </div>